{% extends "base.html" %}

{% block konten %}
<div class="jumbotron">
    
    <h3>pengaduan</h3>
    <form method="POST">
        {{form.hidden_tag()}}
        <div class="form-group"> 
            {{form.subjek.label(class="form-control-label")}}
            {% if form.subjek.errors %}
                {{form.subjek(class="form-control is-invalid")}}
    
            <div class="invalid-feedback">
                {% for error in form.subjek.errors %}
                <span>{{error}}</span>
                {% endfor %}
            </div>
            {% else %}
                {{form.subjek(class="form-control")}}
            {% endif %}
        </div>
        <div class="form-group"> 
            {{form.kategori.label(class="form-control-label")}}
            {% if form.kategori.errors %}
                {{form.kategori(class="form-control is-invalid")}}
    
            <div class="invalid-feedback">
                {% for error in form.kategori.errors %}
                <span>{{error}}</span>
                {% endfor %}
            </div>
            {% else %}
                {{form.kategori(class="form-control")}}
            {% endif %}
        </div>
        <div class="form-group"> 
            {{form.detail_pengaduan.label(class="form-control-label")}}
            {% if form.detail_pengaduan.errors %}
                {{form.detail_pengaduan(class="form-control is-invalid")}}
    
            <div class="invalid-feedback">
                {% for error in form.detail_pengaduan.errors %}
                <span>{{error}}</span>
                {% endfor %}
            </div>
            {% else %}
                {{form.detail_pengaduan(class="form-control")}}
            {% endif %}
        </div>
        
        <div class="form-group">
            {{form.submit(class="btn btn-primary")}}
        </div>
        
      </form>
      <hr class="display-4">
      <h4>Data Pengaduan</h4> 
      <table class="table table-responsive table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Tanggal</th>
            <th scope="col">subjek</th>
            <th scope="col">kategori</th>
            <th scope="col">edit</th>
            <th scope="col">hapus</th>
          </tr>
        </thead>
        <tbody>
            {% for data in dt_pengaduan %}
          <tr>
            <td scope="row">
                <a href="{{url_for('rmahasiswa.detail_pengaduan', ed_id=data.id)}}">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-left" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1H3.707l10.147 10.146a.5.5 0 0 1-.708.708L3 3.707V8.5a.5.5 0 0 1-1 0v-6z"/>
                      </svg>
                </a>
            </td>
            <td>{{data.tgl_post}}</td>
            <td>{{data.subjek}}</td>
            <td>{{data.kategori}}</td>
            <td><a href="{{url_for('rmahasiswa.update_pengaduan', ed_id=data.id)}}" class="btn btn-warning btn-xs" >Edit</a></td> 
            <td><a href="/delete/{{data.id}}" onclick="return confirm('Yakin data dihapus?')" class="btn btn-danger btn-xs">Hapus</a></td>
            
          </tr>
          {% endfor %}
          
        </tbody>
      </table>
  </div>
   
   
{% endblock %}
